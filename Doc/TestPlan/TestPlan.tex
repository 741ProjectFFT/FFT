\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage{amsmath, mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{pdflscape}
\usepackage{afterpage}
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}

\newcounter{tnum}
\newcommand{\tthetestnum}{\thetnum}
\newcommand{\tref}[1]{T\ref{#1}}

\input{../Comments}

\begin{document}

\title{FFT Library} 
\author{Yuzhi Zhao}
\date{\today}
	
\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Date 1 & 1.0 & Notes\\
Date 2 & 1.1 & Notes\\
\bottomrule
\end{tabularx}

~\newpage

\section{Symbols, Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule 
  T & Test\\
  FFT & Fast Fourier Transform\\
IFFT & Inverse Fast Fourier Transform\\
CA & Commonality Analysis\\
IM & Instance Module\\
MSE & Mean Squared Error\\
$o_i $ & Output Data\\
$e_i$ & Expected Output Data\\
  \bottomrule
\end{tabular}\\

\newpage

\tableofcontents

\listoftables

\wss{If there are no tables, you can comment out the above command}

\listoffigures

\newpage

\pagenumbering{arabic}


\section{General Information}
The following section provides an overview of the Verification and
Validation (V \& V) Plan for a Fast Fourier Transform (FFT) library. 

\subsection{Purpose}
The main purpose of this document is to describe the verification and
validation process that will be used to test a FFT Library. This
 document is intended to be used as a reference for
all future testing and will be used
to increase confidence in the software implementation.\\
This document will be used as a starting point for the verification
and validation report.  The test cases presented within this document
will be executed and the output will be analyzed to determine if the
library is implemented correctly.\\
All reference documentation and actual implementation files can be found at  \url {https://github.com/741ProjectFFT/FFT}.

\subsection{Scope}
The whole library includes eight FFT or IFFT calculation functions. All tests should be applied based on this scope.

\subsection{Overview of Document}
The following sections provides more details about the V\&V of a FFT Library. Information about verification tools, automated testing approaches will be stated. And
test cases for all system testing and part of unit testing will be provided.
\section{Plan}
	
\subsection{Software Description}
The FFT Library is a library for calculating Discrete Fourier Transform (DFT) more efficiently. Users are responsible to call the right function which takes different parameters and calls
different algorithms.
The software being tested is 8 different FFT calculation functions.
\subsection{Test Team}
Yuzhi Zhao

\subsection{Automated Testing Approach}
A unit testing framework will be implemented in both unit testing and system testing.\\
All the test cases in test suite will be built in main function which is also a driver to execute this library.\\
Test coverage analysis will be applied to measure code coverage.\\
Compiler can do syntax check automatically.

\subsection{Verification Tools}
This library will be written in C language. All the verification tools below were chosen based on implemented language.
\begin{enumerate}
\item {{\large Cutest} as unit testing framework}
\item {{\large Xcover} as coverage analysis tool}
\end{enumerate}



\subsection{Non-Testing Based Verification}
\begin{enumerate}
\item {Symbolic Execution}\\Because FFT library is based on a mathematical expression. Using Symbolic Execution can trace the path and the result can be compared with mathematical expression directly.\\
 Symbolic Execution will be tested using CREST, references \url {https://github.com/jburnim/crest}.

\end{enumerate}


\section{System Test Description}
	
\subsection{Tests for Functional Requirements}

\subsubsection{Calculation Test}
		
\paragraph{Radix-2 Complex Number Calculation Function\\}

\begin{enumerate}

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{R2CFFT}:Radix-2 Complex Number FFT Calculation Function}}

\textbf {Type}: Functional, Dynamic, Automated
					
\textbf {Initial State}: None
					
\textbf {Input}:\\{\large input.txt} :  Includes all the input datas. The example of input.txt named "test1.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}. The floating numbers can be generated by random number generator online. The source can be reached using    \url  {http://www.meridianoutpost.com/resources/etools/calculators/generator-random-real.php?}\\\\ 
{\large expectedOutput.txt}:  Includes the output datas using the same input datas but computed by Matlab FFT library. Then expectedOutput.txt named "test1\_out.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}. \\ 

					
\textbf {Output}: \\{\large output.txt} : Includes the output datas using the input data computed by this FFT library.\\
{\large TestResult}: pass or not pass. Whether the program passed the test is measured by an admissible error and the Mean Squared Error will be used as the algorithm. The equation is provided below:\\\\
\begin{gather}
\mathit{MSE} = \frac{1}{n}\sum_{i=0}^{n-1} (o_i - e_i)^2
\end{gather}
$e$ means expected output. \\
$o$ means this library's output.\\
$i$ means the index of the output sequence. \\
$n$ means the number of output values.\\
$\mathit{MSE}$ will be implemented as the measure of the test result in all functional test cases. The specific number of $\mathit{MSE}$
should vary depending on a specific case.

			
\textbf {How test will be performed}: \\
Automated.\\
For validation purpose, datas should also be compared with results from normal DFT calculations as well. Do the same test as above but fill the output.txt with results from using DFT library.

\item{\textbf{T-\refstepcounter{tnum}\thetnum:Radix-2 Complex Number IFFT Calculation Function}}

\textbf {Type}: Functional, Dynamic, Automated
					
\textbf {Initial State}: None
					
\textbf {Input}:\\{\large input.txt} :  Includes all the input datas. The example of input.txt named "test2.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\ \\
{\large expectedOutput.txt}:  Includes the output datas using the same input datas but computed by Matlab FFT library. Then expectedOutput.txt named "test2\_out.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\ 
					
\textbf {Output}: \\{\large output.txt} : Includes the output datas using the input data computed by this IFFT library.\\
{\large TestResult}: pass or not pass. Whether the program passed the test is measured by an admissible error and the algorithm is same as it in T-1.\\
\textbf {How test will be performed}: \\
Same as above.
\end{enumerate}

					
\paragraph{Radix-2 Real Number Calculation Function\\}

\begin{enumerate}

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{R2RFFT}:Radix-2 Real Number FFT Calculation Function}}

\textbf {Type}: Functional, Dynamic, Automated
					
\textbf {Initial State}: None
					
\textbf {Input}:\\{\large input.txt} :  Includes all the input datas. The example of input.txt named "test3.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\\\
{\large expectedOutput.txt}:    Includes the output datas using the same input datas but computed by Matlab FFT library. Then expectedOutput.txt named "test3\_out.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}. \\ 

					
\textbf {Output}: \\{\large output.txt} : Includes the output datas using the input data computed by this FFT library.\\
{\large TestResult}: pass or not pass. Whether the program passed the test is measured by an admissible error and the algorithm is same as it in T-1.\\
					
\textbf {How test will be performed}: \\
Same as above.

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{R2RIFFT}:Radix-2 Real Number IFFT Calculation Function}}

\textbf {Type}: Functional, Dynamic, Automated
					
\textbf {Initial State}: None
										
\textbf {Input}:\\{\large input.txt} :   Includes all the input datas. The example of input.txt named "test4.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\ \\
{\large expectedOutput.txt}: Includes the output datas using the same input datas but computed by Matlab FFT library. Then expectedOutput.txt named "test4\_out.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}. \\ 
					
\textbf {Output}: \\{\large output.txt} : Includes the output datas using the input data computed by this IFFT library.\\
{\large TestResult}: pass or not pass. Whether the program passed the test is measured by an admissible error and the algorithm is same as it in T-1.\\
					

\textbf {How test will be performed}: \\
Same as above.
\end{enumerate}

\paragraph{Radix-3 Complex Number Calculation Function\\}

\begin{enumerate}

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{R3CFFT}:Radix-3 Complex  Number FFT Calculation Function}}

\textbf {Type}: Functional, Dynamic, Automated

\textbf {Initial State}: None
					
\textbf {Input}:\\
{\large input.txt}:   Includes all the input datas. The example of input.txt named "test5.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\
{\large expectedOutput.txt}: Includes the output datas using the same input datas but computed by Matlab FFT library. Then expectedOutput.txt named "test5\_out.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}. \\
					
\textbf {Output}: \\{\large output.txt} : Includes the output datas using the input data computed by this FFT library.\\
{\large TestResult}: pass or not pass. Whether the program passed the test is measured by an admissible error and the algorithm is same as it in T-1.\\
		
\textbf {How test will be performed}: \\
Same as above.

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{R3CIFFT}:Radix-3 Complex Number IFFT Calculation Function}}

\textbf {Type}: Functional, Dynamic, Automated
					
\textbf {Initial State}: None
					
\textbf {Input}:\\
{\large input.txt}: Includes all the input datas. The example of input.txt named "test6.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\
{\large expectedOutput.txt}:  Includes the output datas using the same input datas but computed by Matlab FFT library. Then expectedOutput.txt named "test6\_out.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\

					
\textbf {Output}: \\{\large output.txt} : Includes the output datas using the input data computed by this FFT library.\\
{\large TestResult}: pass or not pass. Whether the program passed the test is measured by an admissible error and the algorithm is same as it in T-1.\\

\textbf {How test will be performed}: \\
Same as above.
\end{enumerate}

\paragraph{Radix-3 Real Number Calculation Function\\}

\begin{enumerate}

\item{\textbf{T-\refstepcounter{tnum}\thetnum:Radix-3 Real Number FFT Calculation Function}}

\textbf {Type}: Functional, Dynamic, Automated
					
\textbf {Initial State}: None
					
\textbf {Input}:\\
{\large input.txt}: Includes all the input datas. The example of input.txt named "test7.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}. \\
{\large expectedOutput.txt}:  Includes the output datas using the same input datas but computed by Matlab FFT library. Then expectedOutput.txt named "test7\_out.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\
					
\textbf {Output}: \\{\large output.txt} : Includes the output datas using the input data computed by this FFT library.\\
{\large TestResult}: pass or not pass. Whether the program passed the test is measured by an admissible error and the algorithm is same as it in T-1.\\
					
\textbf {How test will be performed}: \\
Same as above.

\item{\textbf{T-\refstepcounter{tnum}\thetnum:Radix-3 Real Number IFFT Calculation Function}}

\textbf {Type}: Functional, Dynamic, Automated
					
\textbf {Initial State}: None
					
\textbf {Input}:\\
{\large input.txt}: Includes all the input datas. The example of input.txt named "test1.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\
{\large expectedOutput.txt}:  Includes the output datas using the same input datas but computed by Matlab FFT library. Then expectedOutput.txt named "test1\_out.txt" is shown in \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/TestPlan}.\\
					
\textbf {Output}: \\{\large output.txt} : Includes the output datas using the input data computed by this FFT library.\\
{\large TestResult}: pass or not pass. Whether the program passed the test is measured by an admissible error and the algorithm is same as it in T-1.\\

\textbf {How test will be performed}: \\
Same as above.

\wss{You did not include the tests suggested by Alex and Isobel in
  class.  All of your tests rely on parallel testing with a comparison
  to Matlab.  That is fine, but if you make an error, those tests
  won't help much with tracking it down.   You should also include
  tests where you know the solution theoretically.  Generate your
  initial data with a sine function and then verify that you get the
  expected frequency back.  A more complex test would be like that
  given on the Wikipedia page for FFT in the figure at the top of the
  page (\url{https://en.wikipedia.org/wiki/Fast_Fourier_transform})}

\end{enumerate}
\subsection{Tests for Nonfunctional Requirements}

\subsubsection{Speed Comparation Test}
\begin{enumerate}

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{R3RIFFT}:Compare Calculation Speed with FFT Library in Matlab}}

\textbf {Type}: Dynamic, automated, Manual
					
\textbf {Initial State}: None
					
\textbf {Input}: speed\_test1.txt, speed\_test2.txt, speed\_test3.txt, speed\_test4.txt.  speed\_test5.txt, speed\_test6.txt
					
\textbf {Output}: Time1, Time2, Time3, Time4,  Time5, Time6 corresponding to the different input files with different number of inputs.
And get the same information from using Matlab doing calculation. Call them  MTime1, MTime2, MTime3, MTime4,  MTime5, MTime6.
					
\textbf {How test will be performed}: \\
Compare each pair of time from this FFT library and Matlab FFT library.
See how much difference with them.

\end{enumerate}

\subsubsection{Loading Library Test}

\begin{enumerate}

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{Win86}:Under Win X86, Mac OS platform}}

\textbf {Type}: Functional, Dynamic, Manual
					
\textbf {Initial State}: None
					
\textbf {Input}: input.txt(can be chosen from any input.txt above
mentioned and call the corresponding function.) to an C Language
compiler.
					
\textbf {Output}: output.txt
					
\textbf {How test will be performed}: Manual\\
If the test case is run successfully, it means that this library can be loaded successfully.


\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{Compilers}:Different Compilers Under The Same Platform}}

\textbf {Type}: Functional, Dynamic, Manual
					
\textbf {Initial State}: None
					
\textbf {Input}:  input.txt(can be chosen from any input.txt above mentioned and call the corresponding function.) to different compilers including different versions and different languages.
					
\textbf {Output}: output.txt
					
\textbf {How test will be performed}: Manual\\
If the test case is run successfully, it means that this library can be loaded successfully.
\end{enumerate}


\subsection{Traceability Between Test Cases and Requirements}
Since CA reference \url{https://github.com/741ProjectFFT/FFT/tree/master/Doc/SRS} does not include requirements part, the Test Cases will be relevant to IM.\\
T-1, T-2, T-3, T-4 all relevant to IM1 in CA.\\
T-5, T-6, T-7, T-8 all relevant to IM2 in CA.\\			
\section{Unit Testing Plan}


\begin{enumerate}

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{CNI}: TestgetComplexNumber}}

\textbf {Type}: Functional, Dynamic
					
\textbf {Initial State}: None
					
\textbf {Input}: 1.1, 2.2
					
\textbf {Output}: check the return value called 'a' in ComplexNum struct, a.real = 1.1, a.img = 2.2
					
\textbf {How test will be performed}: Automated Unit Test


\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{FZ}:TestfakeImageTerm}}

\textbf {Type}: Functional, Dynamic
					
\textbf {Initial State}: None
					
\textbf {Input}: 10 as size 
					
\textbf {Output}: array = \{0, 0, 0, 0, 0, 0, 0, 0, 0, 0\}
					
\textbf {How test will be performed}:  Automated Unit Test


\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{DTC}: TestComplex\_Multi}}

\textbf {Type}: Functional, Dynamic
					
\textbf {Initial State}: None
					
\textbf {Input}: com1.real = 5.3, com1.img = 5.3, com2.real = 2.0, com2.img = 2.0
					
\textbf {Output}: output.real = 0, output.img = 21.2
					
\textbf {How test will be performed}:  Automated Unit Test


\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{CCC}: Testload\_data\_real}}

\textbf {Type}: Functional, Dynamic
					
\textbf {Initial State}: None
					
\textbf {Input}: filename = "input\_Real.txt"  with numbers 321, 438, 128, 75, 94, 237, 85, 190, 235, 169, 42, 
173, 376, 468, 3, 289, 149, 267, 458, 404, 291, 66, 415, 387, 64, 366, 372, 2, 205, 297, 329, 117  in it.\\
double* pRealNumber;\\
long lInputSize = 0;
					
\textbf {Output}:  pRealNumber = \{321, 438, 128, 75, 94, 237, 85, 190, 235, 169, 42, 
173, 376, 468, 3, 289, 149, 267, 458, 404, 291, 66, 415, 387, 64, 366, 372, 2, 205, 297, 329, 117\}
					
\textbf {How test will be performed}: Automated Unit Test

\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{CCA}:Testload\_data\_complex}}

\textbf {Type}: Functional, Dynamic
					
\textbf {Initial State}: None
					
\textbf {Input}: filename = "input\_Real.txt"  with numbers 321, 438, 128, 75, 94, 237, 85, 190, 235, 169, 42, 
173, 376, 468, 3, 289, 149, 267, 458, 404, 291, 66, 415, 387, 64, 366, 372, 2, 205, 297, 329, 117  as real number set, 262, 410, 339, 131, 206,
 380, 99, 285, 18, 349, 228, 71, 463, 452, 56, 358, 275, 422, 485, 144, 219, 392, 112, 431, 163, 495, 240, 217, 476, 465, 369, 371 as image number set.\\
double* pRealNumber;\\
double* pImageNumber;\\
long lInputSize = 0;
					
\textbf {Output}:  pRealNumber = \{321, 438, 128, 75, 94, 237, 85, 190, 235, 169, 42, 
173, 376, 468, 3, 289, 149, 267, 458, 404, 291, 66, 415, 387, 64, 366, 372, 2, 205, 297, 329, 117\}\\
pImageNumber = \{321, 438, 128, 75, 94, 237, 85, 190, 235, 169, 42, 
173, 376, 468, 3, 289, 149, 267, 458, 404, 291, 66, 415, 387, 64, 366, 372, 2, 205, 297, 329, 117\}
					
\textbf {How test will be performed}:  Automated Unit Test


\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{FZ}:TesttwiddleN}}

\textbf {Type}: Functional, Dynamic
					
\textbf {Initial State}: None
					
\textbf {Input}:\\
k = 1\\
N = 4	\\				
\textbf {Output}:  output = 0 - 1i
					
\textbf {How test will be performed}:  Automated Unit Test


\item{\textbf{T-\refstepcounter{tnum}\thetnum \label{R2P}:TesttwiddleP}}

\textbf {Type}: Functional, Dynamic
					
					
\textbf {Initial State}: None
					
\textbf {Input}:\\
k = 1\\
N = 4	\\				
\textbf {Output}:  output = 0 + 1i
					
\textbf {How test will be performed}: Automated Unit Test


\item{\textbf{T-\refstepcounter{tnum}\thetnum:TestComplex\_Plus}}

\textbf {Type}: Functional, Dynamic
					
\textbf {Initial State}: None
					
\textbf {Input}: input1 = 5.3 + 5.3i, input2 = 2.0 + 2.0i
					
\textbf {Output}:output = 7.3 + 7.3i
					
\textbf {How test will be performed}:  Automated Unit Test



\item{\textbf{T-\refstepcounter{tnum}\thetnum:TestComplex\_Minus}}

\textbf {Type}: Functional, Dynamic
					
\textbf {Initial State}: None
					
\textbf {Input}: input1 = 5.3 + 5.3i, input2 = 2.0 + 2.0i
					
\textbf {Output}:output = 3.3 + 3.3i
					
\textbf {How test will be performed}:  Automated Unit Test

\end{enumerate}	



\bibliographystyle{plainnat}

\bibliography{SRS}

\newpage



\end{document}